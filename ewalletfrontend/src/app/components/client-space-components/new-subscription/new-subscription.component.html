<div class="bg-neutral-50 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 rounded-lg shadow-sm">
  <h2 class="text-2xl font-bold mb-6">Create New Subscription</h2>

  <div class="mb-6">
    <h3 class="text-lg font-semibold mb-4">Select a Creditor</h3>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
      <button *ngFor="let creditor of creditors"
              (click)="selectCreditor(creditor)"
              [class.ring-2]="selectedCreditor?.id === creditor.id"
              [class.ring-blue-500]="selectedCreditor?.id === creditor.id"
              class="flex flex-col items-center p-4 bg-white dark:bg-neutral-800 rounded-lg shadow-sm hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors">
        <img [src]="creditor.logo" [alt]="creditor.name" class="w-16 h-16 rounded-full mb-2">
        <span class="font-medium">{{ creditor.name }}</span>
        <span class="text-sm text-neutral-600 dark:text-neutral-400">${{ creditor.monthlyFee }}/month</span>
      </button>
    </div>
  </div>

  <form (ngSubmit)="createSubscription()" class="space-y-4">
    <div>
      <label for="paymentMethod" class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2">
        Payment Method
      </label>
      <select id="paymentMethod"
              [(ngModel)]="paymentMethod"
              name="paymentMethod"
              required
              class="w-full px-3 py-2 bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-600 rounded-lg text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="">Select a payment method</option>
        <option value="credit_card">Credit Card</option>
        <option value="debit_card">Debit Card</option>
        <option value="bank_transfer">Bank Transfer</option>
      </select>
    </div>

    <div>
      <label for="billingDate" class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2">
        Billing Date
      </label>
      <input type="date"
             id="billingDate"
             [(ngModel)]="billingDate"
             name="billingDate"
             required
             class="w-full px-3 py-2 bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-600 rounded-lg text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-blue-500">
    </div>

    <button type="submit"
            [disabled]="!selectedCreditor || !paymentMethod || !billingDate"
            class="primary-button w-full px-6 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
      Create Subscription
    </button>
  </form>
</div>

